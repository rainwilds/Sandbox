<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preload" href="./JSON/setup.json" as="fetch" crossorigin="anonymous">
    <link rel="preload" href="./styles.css" as="style">

    <script src="https://cdn.jsdelivr.net/npm/chroma-js@2/chroma.min.js"></script>

    <script src="js/generators/head-generator.js" type="module"></script>
    <script src="js/generators/color-palette-generator.js" defer></script>

    <data-custom-head data-components="custom-block" data-title="Color palette generator"
        data-description="Color palette generator" data-canonical="https://rainwilds.github.io/Sandbox/color.html">
    </data-custom-head>
</head>

<body>
    <main>
        <!-- COLOR PICKER -->
        <section style="margin-top: var(--space-medium);">
            <div>
                <custom-block heading="Color Picker" heading-tag="h2" text="Select colors to update the palette">
                </custom-block>
                <div class="color-inputs" style="display: flex; gap: var(--space-small); flex-wrap: wrap;">
                    <label>Light 1: <input style="padding: 0; height: 50px;" type="color" id="light-1"></label>
                    <label>Light 6: <input style="padding: 0; height: 50px;" type="color" id="light-6"></label>
                    <label>Dark 1: <input style="padding: 0; height: 50px;" type="color" id="dark-1"></label>
                    <label>Dark 6: <input style="padding: 0; height: 50px;" type="color" id="dark-6"></label>

                    <div class="alpha-controls">
                        <label>Alpha Step: <input type="number" id="alpha-step" min="0.01" max="1" step="0.01"
                                value="0.1"></label>
                        <button id="alpha-even">Even (100/6)</button>
                    </div>

                    <button id="copy-css-vars">Copy CSS Variables</button>
                </div>
            </div>
        </section>
        <div class="palette-grid">
            <!-- SOLID LIGHT -->
            <section>
                <div>
                    <custom-block heading="Color Accent Light" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-accent-light"></div>
                </div>
            </section>

            <!-- SOLID DARK -->
            <section>
                <div>
                    <custom-block heading="Color Accent Dark" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-accent-dark"></div>
                </div>
            </section>

            <!-- LIGHT 1 ALPHA -->
            <section>
                <div>
                    <custom-block heading="Light 1 Alpha (6)" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-light-1-alpha"></div>
                </div>
            </section>

            <!-- LIGHT 6 ALPHA -->
            <section>
                <div>
                    <custom-block heading="Light 6 Alpha (6)" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-light-6-alpha"></div>
                </div>
            </section>

            <!-- DARK 1 ALPHA -->
            <section>
                <div>
                    <custom-block heading="Dark 1 Alpha (6)" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-dark-1-alpha"></div>
                </div>
            </section>

            <!-- DARK 6 ALPHA -->
            <section>
                <div>
                    <custom-block heading="Dark 6 Alpha (6)" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-dark-6-alpha"></div>
                </div>
            </section>

            <!-- BLACK ALPHA -->
            <section>
                <div>
                    <custom-block heading="Black Alpha (6)" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-black-alpha"></div>
                </div>
            </section>

            <!-- WHITE ALPHA -->
            <section>
                <div>
                    <custom-block heading="White Alpha (6)" heading-tag="h3"></custom-block>
                    <div class="color-palette" id="color-white-alpha"></div>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Disable Snipcart on this page
        if (window.location.pathname.includes('color.html')) {
            // Remove the script if it exists
            const snipScript = document.getElementById('snipcart') || document.querySelector('script[src*="snipcart"]');
            if (snipScript) snipScript.remove();

            // Remove the div
            const snipDiv = document.getElementById('snipcart');
            if (snipDiv) snipDiv.remove();

            // Override global Snipcart object
            window.Snipcart = { api: { subscribe: () => { } } }; // Empty stub
            window.SnipcartSettings = { show_cart_automatically: false, loadStrategy: 'none' };
        }
    </script>
</body>

</html>