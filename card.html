<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preload" href="./styles.css" as="style" />
    <link rel="stylesheet" href="./styles.css" />
    
    <script src="./js/head-generator.js" type="module" defer></script>

    <data-bh-head
        data-components="custom-card"
        data-title="Photography, Videography & Websites - Behive"
        data-description="Bespoke media assets and web design for quality brands."
        data-keywords="photography, videography, websites, web design"
        data-author="David Dufourq"
        data-canonical="https://rainwilds.github.io/Sandbox/"
        data-robots="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
        data-schema-site-name="Behive: Photography, Videography & Websites"
        data-schema-site-url="https://rainwilds.github.io/Sandbox/">
    </data-bh-head>

    <data-bh-head
        data-og-title="Photography, Videography & Websites - Behive"
        data-og-description="Bespoke media assets and web design for quality brands."
        data-og-image="https://rainwilds.github.io/Sandbox/img/preview.jpg"
        data-og-url="https://rainwilds.github.io/Sandbox/"
        data-og-type="website"
        data-og-locale="en_AU"
        data-og-site-name="Behive">
    </data-bh-head>

    <data-bh-head
        data-x-title="Behive: Photography, Videography & Websites"
        data-x-description="Bespoke media assets and web design for quality brands."
        data-x-image="https://rainwilds.github.io/Sandbox/img/preview.jpg"
        data-x-url="https://rainwilds.github.io/Sandbox/"
        data-x-domain="rainwilds.github.io"
        data-x-card="summary_large_image">
    </data-bh-head>

    <style>
        /* In styles.css */

/* Skeleton styles for custom-card */
.skeleton {
    display: block;
    position: relative;
    overflow: hidden;
    background-color: #f0f0f0; /* Light gray background */
    border-radius: 8px; /* Match typical card border-radius */
    animation: pulse 1.5s infinite ease-in-out;
}

/* Shimmer effect */
.skeleton::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shimmer 1.5s infinite linear;
}

/* Mimic card content: heading, description, button */
.skeleton::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        /* Heading placeholder */
        linear-gradient(#ddd 1.5em, transparent 1.5em) 10px 10px no-repeat,
        /* Description placeholder (two lines) */
        linear-gradient(#ddd 1em, transparent 1em) 10px 40px no-repeat,
        linear-gradient(#ddd 1em, transparent 1em) 10px 60px no-repeat,
        /* Button placeholder */
        linear-gradient(#ddd 2em, transparent 2em) 10px 90px no-repeat;
    background-size: 
        80% 1.5em, /* Heading: ~80% width */
        90% 1em,  /* Description line 1: ~90% width */
        70% 1em,  /* Description line 2: ~70% width */
        30% 2em;  /* Button: ~30% width */
}

/* Animations */
@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

@keyframes pulse {
    0% { background-color: #f0f0f0; }
    50% { background-color: #e0e0e0; }
    100% { background-color: #f0f0f0; }
}

/* Ensure the card respects container constraints */
custom-card {
    width: 100%;
    box-sizing: border-box;
}
    </style>

</head>

<body>

    <main>
        <h2>Background Colours</h2>
        <section>

                <custom-card
                    heading="Background Colour 1"
                    description="Card with background-color-1, colour-invert and padding-medium."
                    button-text="Action"
                    button-href="#"
                    background-color="background-color-1"
                    class="color-invert padding-medium">
                </custom-card>


            <!-- <custom-card heading="Background Colour 3" description="Card with background-color-1 and padding-medium."
                button-text="Action" button-href="#" background-color="background-color-3" class="padding-medium">

            </custom-card> -->
<!-- 
            <custom-card heading="Border Small" description="Card with border-small, padding-medium and space-between."
                button-text="Action" button-href="#" class="padding-medium border-small space-between">
            </custom-card>


            </custom-card>

            <custom-card heading="Background Colour 1 w/ Radius"
                description="Card with background-color-1, color-invert, padding-medium and border-radius-small."
                button-text="Action" button-href="#" background-color="background-color-1"
                class="color-invert padding-medium border-radius-small">

            </custom-card>

            <custom-card heading="Background Colour 3 w/ Radius"
                description="Card with background-color-1, padding-medium and border-radius-medium."
                button-text="Action" button-href="#" background-color="background-color-3"
                class="padding-medium border-radius-medium">

            </custom-card>

            <custom-card heading="Background Colour 2"
                description="Card with background-color-2, color-invert, space-between and padding-large."
                button-text="Action" button-href="#" background-color="background-color-2"
                class="color-invert space-between padding-large"
                style="padding-left: var(--space-small); background-image: var(--background-stripes);">
            </custom-card>


            </custom-card> -->

        </section>
  

    </main>

<script type="module">
        // Wait for DOM to load
        document.addEventListener('DOMContentLoaded', () => {
            // Find all custom-card elements
            const cards = document.querySelectorAll('custom-card');
            if (cards.length === 0) return;

            cards.forEach(card => {
                // Get the parent container for each card
                const parent = card.parentElement;
                if (!parent) return;

                // Get attributes from the card
                const attributes = {};
                for (const attr of card.attributes) {
                    attributes[attr.name] = attr.value;
                }

                // Get estimated dimensions using parent's width
                const containerWidth = parent.clientWidth || window.innerWidth;
                const { width, height } = CustomCard.getEstimatedDimensions(attributes, containerWidth);

                // Apply skeleton class and reserve space
                card.classList.add('skeleton');
                card.style.minHeight = `${height}px`; // Prevent layout shift
                card.style.width = '100%'; // Match container width
                card.setAttribute('aria-busy', 'true'); // Accessibility

                // Add callback to clean up skeleton after render
                card.addCallback(() => {
                    const renderedCard = parent.querySelector('.card');
                    if (renderedCard) {
                        renderedCard.classList.remove('skeleton');
                        renderedCard.removeAttribute('aria-busy');
                    }
                });
            });
        });
    </script>


</body>

</html>